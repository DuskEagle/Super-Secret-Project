<html>
<head>
<style type="text/css">
  #container {
    max-width: 600px;
    height: 600px;
    margin: auto;
  }
</style>
</head>
<body>
<div id="container"></div>
<script src="sigma.min.js"></script>
<script src="sigma/plugins/sigma.parsers.json/sigma.parsers.json.js"></script>
<script src="sigma/plugins/sigma.parsers.json/sigma.parsers.json.js"></script>

<script src="sigma/plugins/sigma.layout.forceAtlas2/supervisor.js"></script>
<script src="sigma/plugins/sigma.layout.forceAtlas2/worker.js"></script>

<script src="sigma/plugins/sigma.plugins.dragNodes/sigma.plugins.dragNodes.js"></script>

<!-- Edge labels -->
<script src="sigma/plugins/sigma.renderers.edgeLabels/settings.js"></script>
<script src="sigma/plugins/sigma.renderers.edgeLabels/sigma.canvas.edges.labels.def.js"></script>
<script src="sigma/plugins/sigma.renderers.edgeLabels/sigma.canvas.edges.labels.curve.js"></script>
<script src="sigma/plugins/sigma.renderers.edgeLabels/sigma.canvas.edges.labels.curvedArrow.js"></script>
<!-- End edge labels -->
<input id="label-checkbox" type="checkbox" onclick="toggleLabels()">
<label for="label-checkbox">Show labels</label>
<script>
    
    var show_labels = true;
    toggleLabels = function() {
        show_labels = !show_labels;
        var edges = s.graph.edges();
        for (var i = 0; i < edges.length; i++) {
            edges[i].label = (show_labels ? edges[i]._label_ : "");
        }
        s.refresh();
    }
    
    function runForceAtlas(sig) {
        sig.startForceAtlas2({slowDown: 10});
        setTimeout(function() {
            sig.stopForceAtlas2();
        }, 1000);
    }
    
    var s = {
        container: 'container',
        type: 'canvas',
        settings: {
            defaultNodeColor: "#000000",
            enableCamera: false,
            enableHovering: false,
//             zoomMin: 0.1,
//             zoomMax: 1
        }
    };
    
    sigma.renderers.def = sigma.renderers.canvas;
    sigma.parsers.json('wives.json', s, function(sig) {
        var dragListener = new sigma.plugins.dragNodes(sig, sig.renderers[0]);
        
        var edges = sig.graph.edges();
        
        for (var i = 0; i < edges.length; i++) {
            edges[i]._label_ = edges[i].label;
        }
        
        runForceAtlas(sig);
        s = sig; // Make sig globally accessible.
        
        toggleLabels();
    });
    
    
    
    

</script>
</body>
</html>